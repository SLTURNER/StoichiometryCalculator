<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <script type="text/javascript" src="script.js"> </script>

    <title>    </title>
  </head>
  <body>

    <p>  This calculator does not work with spaces, and is case-sensitive.  </p>

    <div class="" id="" style="width: 15%; margin-left: 1%; margin-right: 1%;">
      <input type="text" id="molecule" placeholder="Molecule">
      <input type="text" id="weight" name="weight" value="" placeholder="Insert Grams">
      <input type="text" id="mass" disabled placeholder="Mass of molecule">
      <input type="text" id="substance" name="amount" value="" placeholder="Insert Mols">
      <button type="button" name="button" onclick="call()"> Run </button>
    </div>


  </body>

  <script type="text/javascript">
    function call() {
      var molecule = document.getElementById("molecule").value;
      var weight = document.getElementById("weight").value.replace(/[^\d.-]/g, '');
      var substance = document.getElementById("substance").value.replace(/[^\d.-]/g, '');

      let mole1 = new Molecule(molecule);

      if(substance == "" && weight == "") {

      }
      else if(substance == "") {
        mole1['amountWei'] = weight;
        mole1['amountSub'] = (weight/mole1['mass']).toFixed(3);
      }
      else {
        mole1['amountSub'] = substance;
        mole1['amountWei'] = substance*mole1['mass'].toFixed(3);
      }

      if(mole1['mass'] == false) {
        document.getElementById("mass").value = "Not a valid molecule";
      }
      else {
        document.getElementById("mass").value = mole1['mass'] + " g/mol";
        document.getElementById("weight").value = mole1['amountWei'] + " g";
        document.getElementById("substance").value = mole1['amountSub'] + " mol";
      }
    }

  </script>

</html>
